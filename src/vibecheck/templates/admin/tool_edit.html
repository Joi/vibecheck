{% extends "admin/base.html" %}

{% block title %}{{ 'Add Tool' if is_new else 'Edit Tool' }}{% endblock %}

{% block admin_styles %}
.container { max-width: 800px; }
{% endblock %}

{% block admin_content %}
        <h2>{{ 'Add New Tool' if is_new else 'Edit Tool' }}</h2>
        
        <form method="POST" action="/admin/tools/save">
            {% if tool %}
            <input type="hidden" name="id" value="{{ tool.id }}">
            {% endif %}
            
            <div class="form-group">
                <label for="name">Name *</label>
                <input type="text" id="name" name="name" required value="{{ tool.name if tool else '' }}">
            </div>
            
            <div class="form-group">
                <label for="slug">Slug</label>
                <input type="text" id="slug" name="slug" value="{{ tool.slug if tool else '' }}">
                <p class="help-text">URL-friendly identifier. Auto-generated from name if empty.</p>
            </div>
            
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description">{{ tool.description if tool else '' }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="url">Website URL</label>
                <input type="text" id="url" name="url" value="{{ tool.url if tool else '' }}">
            </div>
            
            <div class="form-group">
                <label for="github_url">GitHub URL</label>
                <input type="text" id="github_url" name="github_url" value="{{ tool.github_url if tool else '' }}">
            </div>
            
            <div class="form-group">
                <label for="categories">Categories</label>
                <input type="text" id="categories" name="categories" 
                       value="{{ (tool.categories or [])|join(', ') if tool else '' }}">
                <p class="help-text">Comma-separated list (e.g., "cli, framework, ai")</p>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save Tool</button>
                <a href="/admin/tools" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
{% endblock %}