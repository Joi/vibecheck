{% extends "admin/base.html" %}

{% block title %}{{ 'Add Article' if is_new else 'Edit Article' }}{% endblock %}

{% block admin_styles %}
.container { max-width: 800px; }
{% endblock %}

{% block admin_content %}
        <h2>{{ 'Add New Article' if is_new else 'Edit Article' }}</h2>
        
        <form method="POST" action="/admin/articles/save">
            {% if article %}
            <input type="hidden" name="id" value="{{ article.id }}">
            {% endif %}
            
            <div class="form-group">
                <label for="title">Title *</label>
                <input type="text" id="title" name="title" required value="{{ article.title if article else '' }}">
            </div>
            
            <div class="form-group">
                <label for="slug">Slug</label>
                <input type="text" id="slug" name="slug" value="{{ article.slug if article else '' }}">
                <p class="help-text">URL-friendly identifier. Auto-generated from title if empty.</p>
            </div>
            
            <div class="form-group">
                <label for="url">URL *</label>
                <input type="text" id="url" name="url" required value="{{ article.url if article else '' }}">
            </div>
            
            <div class="form-group">
                <label for="author">Author</label>
                <input type="text" id="author" name="author" value="{{ article.author if article else '' }}">
            </div>
            
            <div class="form-group">
                <label for="summary">Summary</label>
                <textarea id="summary" name="summary">{{ article.summary if article else '' }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="source">Source</label>
                <input type="text" id="source" name="source" value="{{ article.source if article else '' }}">
                <p class="help-text">Where this article was discovered (e.g., "whatsapp-vibez", "manual")</p>
            </div>
            
            <div class="form-group">
                <label for="tags">Tags</label>
                <input type="text" id="tags" name="tags" 
                       value="{{ (article.tags or [])|join(', ') if article else '' }}">
                <p class="help-text">Comma-separated list (e.g., "ai, research, paper")</p>
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save Article</button>
                <a href="/admin/articles" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
{% endblock %}